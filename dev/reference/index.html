<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · OSMToolset</title><meta name="title" content="Reference · OSMToolset"/><meta property="og:title" content="Reference · OSMToolset"/><meta property="twitter:title" content="Reference · OSMToolset"/><meta name="description" content="Documentation for OSMToolset."/><meta property="og:description" content="Documentation for OSMToolset."/><meta property="twitter:description" content="Documentation for OSMToolset."/><meta property="og:url" content="https://pszufe.github.io/OSMToolset.jl/stable/reference/"/><meta property="twitter:url" content="https://pszufe.github.io/OSMToolset.jl/stable/reference/"/><link rel="canonical" href="https://pszufe.github.io/OSMToolset.jl/stable/reference/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">OSMToolset</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Scraping-points-of-interest-(POI)"><span>Scraping points-of-interest (POI)</span></a></li><li><a class="tocitem" href="#Measuring-Attractiveness-Spatial-Index"><span>Measuring Attractiveness Spatial Index</span></a></li><li><a class="tocitem" href="#Efficient-searching-for-nearest-nodes-in-OSM"><span>Efficient searching for nearest nodes in OSM</span></a></li><li><a class="tocitem" href="#Tiling-OSM-file"><span>Tiling OSM file</span></a></li></ul></li><li><a class="tocitem" href="../visualize/">Visualization</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/pszufe/OSMToolset.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/pszufe/OSMToolset.jl/blob/main/docs/src/reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><h2 id="Scraping-points-of-interest-(POI)"><a class="docs-heading-anchor" href="#Scraping-points-of-interest-(POI)">Scraping points-of-interest (POI)</a><a id="Scraping-points-of-interest-(POI)-1"></a><a class="docs-heading-anchor-permalink" href="#Scraping-points-of-interest-(POI)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.find_poi" href="#OSMToolset.find_poi"><code>OSMToolset.find_poi</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">find_poi(filename::AbstractString, scrape_config::ScrapePOIConfig{T &lt;: AbstractMetaPOI}=ScrapePOIConfig(); all_tags::Bool=false)</code></pre><p>Generates a <code>DataFrame</code> with points of interests and from a given XML <code>filename</code>. The <code>scrape_config</code> parameter defines the configuration of the scraping process. The data frame will also contain the metadata of type <code>T</code> for each POI.</p><p>The <code>DataFrame</code> can be later used with <code>AttractivenessSpatIndex</code> to build an attractivenss spatial index.</p><p>Setting the <code>all_tags</code> parameter to <code>true</code> will cause that once the tag is matched, the adjacent tags within the same element will be included in the resulting DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L177-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.ScrapePOIConfig" href="#OSMToolset.ScrapePOIConfig"><code>OSMToolset.ScrapePOIConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Represents the configuration of the data scraping process from OSM XML.</code></pre><p>Only those pieces of data will be scraped that are defined here.</p><p>The configuration is defined in a DataFrame with the following columns: <code>group</code>, <code>key</code>, <code>values</code>, <code>influence</code>, <code>range</code>. Instead of the DataFrame a paths to a CSV file can be provided.</p><p><strong>Constructors</strong></p><ul><li><code>ScrapePOIConfig()</code> - default inbuilt configuration for data scraping.  Note that the default configuration can change with library updates.  This will use a default configuration and <code>AttractivenessMetaPOI</code> as meta data.</li><li><code>ScrapePOIConfig(keys::Union{Tuple{String,String}, String}...)</code> - provide keys for scraping, <code>NoneMetaPOI</code> will be used as metadata</li><li><code>ScrapePOIConfig(pairs::Pair{&lt;:Union{Tuple{String,String}, String}, T}...)</code> - provide keys and corresponding metadata</li><li><code>ScrapePOIConfig{T &lt;: AbstractMetaPOI}(df::DataFrame)</code> - use a <code>DataFrame</code> as configuration</li><li>ScrapePOIConfig{T &lt;: AbstractMetaPOI}(meta::Dict{&lt;:Union{String, Tuple{String,String}}, T}) - internal constructor. <code>meta</code> dictionary explaining how a single <code>k=&quot;keyname&quot;</code> value or tuple ofvalues (paired with <code>v=&quot;valuename&quot;</code>) should be mapped for attractiveness metadata.</li></ul><p><strong>Example</strong></p><p>```julia ScrapePOIConfig((&quot;amenity&quot;, &quot;parking&quot;), (&quot;parking&quot;))</p><p>ScrapePOIConfig((&quot;*&quot;, &quot;restaurant&quot;))</p><p>ScrapePOIConfig(&quot;*&quot;)</p><p>ScrapePOIConfig((&quot;amenity&quot;, &quot;parking&quot;) =&gt;AttractivenessMetaPOI(:car, 1, 500), (&quot;amenity&quot;, &quot;restaurant&quot;) =&gt; (AttractivenessMetaPOI(:food, 1.0, 1000.0)))</p><p>ScrapePOIConfig([(&quot;amenity&quot;, &quot;pub&quot;), (&quot;amenity&quot;, &quot;restaurant&quot;)] .=&gt; Ref(AttractivenessMetaPOI(:food, 1.0, 100.0)))</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L64-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.AbstractMetaPOI" href="#OSMToolset.AbstractMetaPOI"><code>OSMToolset.AbstractMetaPOI</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractMetaPOI end</code></pre><p>A base type for representing metadata related to a POI location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.NoneMetaPOI" href="#OSMToolset.NoneMetaPOI"><code>OSMToolset.NoneMetaPOI</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct NoneMetaPOI &lt;: AbstractMetaPOI; end</code></pre><p>Scraping configuration when no attractiveness metadata is attached.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.AttractivenessMetaPOI" href="#OSMToolset.AttractivenessMetaPOI"><code>OSMToolset.AttractivenessMetaPOI</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct AttractivenessMetaPOI &lt;: AbstractMetaPOI</code></pre><p>Container for metadata for attractiveness (the default configuration of scraping).</p><p>The attractiveness is defined by the following fields:</p><ul><li><code>group</code> - the group of the POI (e.g. <code>:parking</code> or <code>:food</code>)</li><li><code>influence</code> - the power of the POI on the attractiveness of the location</li><li><code>range</code> - the range of the POI influence (measeured in meters)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L14-L23">source</a></section></article><h2 id="Measuring-Attractiveness-Spatial-Index"><a class="docs-heading-anchor" href="#Measuring-Attractiveness-Spatial-Index">Measuring Attractiveness Spatial Index</a><a id="Measuring-Attractiveness-Spatial-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Measuring-Attractiveness-Spatial-Index" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.AttractivenessSpatIndex" href="#OSMToolset.AttractivenessSpatIndex"><code>OSMToolset.AttractivenessSpatIndex</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AttractivenessSpatIndex{T &lt;: AbstractMetaPOI}(filename::AbstractString, get_range::Function=get_attractiveness_range, get_group::Function=get_attractiveness_group)
AttractivenessSpatIndex{T &lt;: AbstractMetaPOI}(df::AbstractDataFrame, get_range::Function=get_attractiveness_range, get_group::Function=get_attractiveness_group)</code></pre><p>Builds an attractivness spatial index basing on data in some CSV file or a DataFrame</p><p>Assuming that <code>T</code> is of typw <code>AttractivenessMetaPOI</code>,  the CSV file or DataFrame should have the following columns:     - group - data group in attractiveness index, each group name creates attractiveness dimension     - key - key in the XML file &lt;tag&gt;     - values - values in the &lt;tag&gt; (a star <code>&quot;*&quot;</code> catches all values)     - influence - strength of influence     - range - maximum influence range in meters</p><p>When a <code>DataFrame</code> is provided the additional parameter <code>refLLA</code> can be provided for the reference <code>LLA</code> coordinates in the spatial index. The spatial index works in the ENU coordinate system.</p><p>If <code>T</code> is not provided <code>AttractivenessMetaPOI</code> will be used as the default metadata type.</p><p>The type <code>F</code> represents the attractiveness group function provided as  <code>get_group = (a::T) -&gt; :somegroup</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L32-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.attractiveness" href="#OSMToolset.attractiveness"><code>OSMToolset.attractiveness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">attractiveness(sindex::AttractivenessSpatIndex{T}, lattitude::Number, longitude::Number; aggregator::Function=sum, calculate_attractiveness::Function=calculate_attractiveness,  distance::Function=OpenStreetMapX.distance, explain::Bool=false)  where T &lt;: AbstractMetaPOI</code></pre><p>Returns the multidimensional attractiveness measure for the given spatial index <code>sindex</code> and <code>lattitude</code> and <code>longitude</code>. The <code>aggregator</code> function will be used to aggregate the attractiveness values. The aggreagation is required as more than one point of interest can be found within the attractiveness range. The function <code>calculate_attractiveness(a::T, poidistance::Number)</code> will be used to calculate the attractiveness on the base of metadata and distance. The distance function <code>distance(a::ENU, b::ENU)</code> is used to calculate the distance between point pairs.</p><p>If <code>explain</code> is set to true the result will additionally contain details about POIs used to calculate the attractiveness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L172-L187">source</a></section><section><div><pre><code class="language-julia hljs">attractiveness(sindex::AttractivenessSpatIndex{T}, lla::LLA; aggregator::Function=sum, calculate_attractiveness::Function=calculate_attractiveness, distance::Function=OpenStreetMapX.distance, explain::Bool=false) where T &lt;: AbstractMetaPOI</code></pre><p>Returns the multidimensional attractiveness measure for the given spatial index <code>sindex</code> and <code>LLA</code> coordinates. The <code>aggregator</code> function will be used to aggregate the attractiveness values. The aggreagation is required as more than one point of interest can be found within the attractiveness range. The function <code>calculate_attractiveness(a::T, poidistance::Number)</code> will be used to calculate the attractiveness on the base of metadata and distance. The distance function <code>distance(a::ENU, b::ENU)</code> is used to calculate the distance between point pairs.</p><p>If <code>explain</code> is set to true the result will additionally contain details about POIs used to calculate the attractiveness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L192-L207">source</a></section><section><div><pre><code class="language-julia hljs">attractiveness(sindex::AttractivenessSpatIndex{T}, enu::ENU; aggregator::Function=sum, calculate_attractiveness::Function=calculate_attractiveness, distance::Function=OpenStreetMapX.distance, explain::Bool=false) where T &lt;: AbstractMetaPOI</code></pre><p>Returns the multidimensional attractiveness measure for the given spatial index <code>sindex</code> and <code>enu</code> cooridanates. Note that the enu coordinates <em>must</em> use <code>sindex.refLLA</code> as the reference point. Hence the <code>enu</code> coordinates need to be calculated eg. using <code>ENU(lla,sindex.refLLA)</code>. The <code>aggregator</code> function will be used to aggregate the attractiveness values. The aggreagation is required as more than one point of interest can be found within the attractiveness range. The function <code>calculate_attractiveness(a::T, poidistance::Number)</code> will be used to calculate the attractiveness on the base of metadata and distance. The distance function <code>distance(a::ENU, b::ENU)</code> is used to calculate the distance between point pairs.</p><p>If <code>explain</code> is set to true the result will additionally contain details about POIs used to calculate the attractiveness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L215-L232">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.calculate_attractiveness" href="#OSMToolset.calculate_attractiveness"><code>OSMToolset.calculate_attractiveness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">calculate_attractiveness(a::AttractivenessMetaPOI, poidistance::Number)</code></pre><p>Default function used to calculate the attractiveness for <code>AttractivenessMetaPOI</code> on the base of distance. You might want to provide your own implementation and than pass it as a parameter whe using the <code>attractiveness</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L155-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.get_attractiveness_group" href="#OSMToolset.get_attractiveness_group"><code>OSMToolset.get_attractiveness_group</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_attractiveness_group(a::AttractivenessMetaPOI)</code></pre><p>Default group for AttractivenessMetaPOI which is <code>a.group</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L30-L34">source</a></section><section><div><pre><code class="language-julia hljs">get_attractiveness_group(a::NoneMetaPOI)</code></pre><p>Default group for NoneMetaPOI (<code>NoneMetaPOI</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L44-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.clean_pois_by_group" href="#OSMToolset.clean_pois_by_group"><code>OSMToolset.clean_pois_by_group</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">clean_pois_by_group(df::DataFrame)</code></pre><p>For data imported via AttractivenessMetaPOI the function will return only the most attractive POI for each group. This is useful when you want to remove duplicate entries for the same node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/poi.jl#L324-L328">source</a></section></article><h2 id="Efficient-searching-for-nearest-nodes-in-OSM"><a class="docs-heading-anchor" href="#Efficient-searching-for-nearest-nodes-in-OSM">Efficient searching for nearest nodes in OSM</a><a id="Efficient-searching-for-nearest-nodes-in-OSM-1"></a><a class="docs-heading-anchor-permalink" href="#Efficient-searching-for-nearest-nodes-in-OSM" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.NodeSpatIndex" href="#OSMToolset.NodeSpatIndex"><code>OSMToolset.NodeSpatIndex</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NodeSpatIndex(md::MapData, refLLA::LLA = OpenStreetMapX.center(md.bounds); node_range::Number=100.0)</code></pre><p>Create a spatial index for nodes in the <code>md</code> using <code>refLLA</code> as the reference for ENU coordinates with the given <code>node_range</code> in meters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L77-L82">source</a></section><section><div><pre><code class="language-julia hljs">NodeSpatIndex(nodes::AbstractVector{Int64}, lattitudes::AbstractVector{Float64}, longitudes::AbstractVector{Float64}, refLLA::LLA=LLA(mean(lattitudes), mean(longitudes)); node_range::Number=100.0)</code></pre><p>Create a spatial index for <code>nodes</code> having <code>lattitudes</code> and <code>longitudes</code> using <code>refLLA</code> as the reference for ENU coordinates with the given <code>node_range</code> in meters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L88-L93">source</a></section><section><div><pre><code class="language-julia hljs">NodeSpatIndex(nodes::AbstractVector{Int64}, llas::AbstractVector{LLA}, refLLA::LLA; node_range::Number=100.0)</code></pre><p>Create a spatial index for <code>nodes</code> having <code>llas</code> LLA coordinates using <code>refLLA</code> as the reference for ENU coordinates with the given <code>node_range</code> in meters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L99-L104">source</a></section><section><div><pre><code class="language-julia hljs">NodeSpatIndex(nodes::AbstractVector{Int64}, enus::AbstractVector{ENU}, refLLA::LLA; node_range::Number=100.0)</code></pre><p>Create a spatial index for <code>nodes</code> having <code>enus</code> ENU coordinates using <code>refLLA</code> as the reference for ENU coordinates with the given <code>node_range</code> in meters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L110-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.findnode" href="#OSMToolset.findnode"><code>OSMToolset.findnode</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">findnode(sindex::NodeSpatIndex, point::Union{LLA, ENU})</code></pre><p>Find the node in the <code>sindex</code> spatial index closest to the given <code>point</code> coordinates.</p><p>Returns a named tuple of the <code>distance</code> and the <code>nodeid</code>. When no node is found within the <code>node_range</code> of <code>sindex</code> the <code>nodeid</code> is set to <code>0</code> and the <code>distance</code> to <code>Inf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/attractiveness.jl#L133-L140">source</a></section></article><h2 id="Tiling-OSM-file"><a class="docs-heading-anchor" href="#Tiling-OSM-file">Tiling OSM file</a><a id="Tiling-OSM-file-1"></a><a class="docs-heading-anchor-permalink" href="#Tiling-OSM-file" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.calc_tiling-Tuple{AbstractString, Float64, Float64}" href="#OSMToolset.calc_tiling-Tuple{AbstractString, Float64, Float64}"><code>OSMToolset.calc_tiling</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calc_tiling(filename::AbstractString, latTileSize::Float64, lonTileSize::Float64)</code></pre><p>Calculates recommended bounds, number of rows and columns for a given <code>filename</code> and size of tile <code>latTileSize</code> x <code>lonTileSize</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/tile.jl#L147-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.calc_tiling-Tuple{Bounds, Float64, Float64}" href="#OSMToolset.calc_tiling-Tuple{Bounds, Float64, Float64}"><code>OSMToolset.calc_tiling</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calc_tiling(bounds::Bounds, latTileSize::Float64, lonTileSize::Float64)</code></pre><p>Calculates recommended bounds, number of rows and columns for a given <code>bounds</code> and size of tile <code>latTileSize</code> x <code>lonTileSize</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/tile.jl#L132-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.tile_osm_file-Tuple{AbstractString, Bounds}" href="#OSMToolset.tile_osm_file-Tuple{AbstractString, Bounds}"><code>OSMToolset.tile_osm_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tile_osm_file(filename::AbstractString, [bounds::Bounds]; nrow::Integer, ncol::Integer, [out_dir::AbstractString]</code></pre><p>Provide the tiling functionality for maps. A <code>filename</code> will be open for processing and the tiling will be done around given <code>bounds</code>. If <code>bounds</code> are not given they will be calculated using <code>getbounds</code> function. The tiling will be performed with a matrix having <code>nrow</code> rows and <code>ncol</code> columns. The output will be written to the folder name <code>out_dir</code>. If none <code>out_dir</code> is given than as the output is written to where <code>filename</code> is located.</p><p>Returns a <code>Matrix{String}</code> of size <code>nrow</code> x <code>ncol</code> containing the names of the files created.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/tile.jl#L163-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.Bounds" href="#OSMToolset.Bounds"><code>OSMToolset.Bounds</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">A range of geographic coordinates for a map</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/tile.jl#L56-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.getbounds-Tuple{AbstractString}" href="#OSMToolset.getbounds-Tuple{AbstractString}"><code>OSMToolset.getbounds</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getbounds(filename::AbstractString)::Bounds</code></pre><p>Returns Bounds that can be found in the first 10 lines of the OSM file named &#39;filename&#39;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/tile.jl#L100-L104">source</a></section></article><p>Helper functions</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.sample_osm_file" href="#OSMToolset.sample_osm_file"><code>OSMToolset.sample_osm_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sample_osm_file()</code></pre><p>Provides location of sample OSM file for tests and examples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/common.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.FloatLon" href="#OSMToolset.FloatLon"><code>OSMToolset.FloatLon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">This is an AbstractFloat type representing geographic longitude as the values may wrap around</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/tile.jl#L32-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OSMToolset.Node" href="#OSMToolset.Node"><code>OSMToolset.Node</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Node(id::Int, lat::Float64, lon::Float64)</code></pre><p>A node is a point in the map. It has an id, a latitude and a longitude.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pszufe/OSMToolset.jl/blob/f7d2f66f13dffbf05543b890152e34f82407081e/src/common.jl#L1-L5">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../visualize/">Visualization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Wednesday 24 July 2024 10:02">Wednesday 24 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
